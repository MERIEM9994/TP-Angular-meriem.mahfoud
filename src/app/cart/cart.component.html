<h2>ğŸ›’ Mon panier</h2>

<div *ngIf="(cart$ | async) as cartItems; else emptyCart">
  <div class="cart-item" *ngFor="let item of cartItems">
    <p>
      <strong>{{ item.product.name }}</strong> â€“ 
      {{ item.product.price | number:'1.2-2' }} â‚¬ Ã—
      <input 
        type="number" 
        [value]="item.quantity" 
        min="1"
        (input)="updateQuantity(item.product.id, $event)" 
        aria-label="QuantitÃ© pour {{ item.product.name }}"
      >
      <button 
        class="remove-btn" 
        (click)="removeItem(item.product.id)" 
        aria-label="Supprimer {{ item.product.name }} du panier"
      >
        âŒ
      </button>
    </p>
  </div>

  <hr>

  <p class="total-line">
    <strong>Total : {{ total | number:'1.2-2' }} â‚¬</strong>
  </p>

  <div class="cart-actions">
    <button class="clear-btn" (click)="clear()" [disabled]="cartItems.length === 0">ğŸ§¹ Vider le panier</button>
    <button class="order-btn" (click)="order()" [disabled]="cartItems.length === 0">âœ… Commander</button>
  </div>

  <!-- Garder uniquement ce bouton retour au catalogue -->
  <div class="back-catalog-wrapper">
    <a routerLink="/catalog" class="back-btn">â† Retour au catalogue</a>
  </div>
</div>

<ng-template #emptyCart>
  <p class="empty-message">Le panier est vide.</p>
  <a routerLink="/catalog" class="back-btn">â† Voir le catalogue</a>
</ng-template>









